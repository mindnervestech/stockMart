@(localUser: User)

<head>
	
	<title>Whitney Connect</title>
	
	<!-- Meta -->
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
	
	<!-- Bootstrap -->
	<!-- <link href="/assets/common/bootstrap/css/bootstrap.css" rel="stylesheet" /> -->
	<link href="/assets/common/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
	<link href="/assets/common/bootstrap/css/responsive.css" rel="stylesheet" />
	
	<!-- Glyphicons Font Icons -->
	<link href="/assets/common/theme/css/glyphicons.css" rel="stylesheet" />
	
	<!-- Uniform Pretty Checkboxes -->
	<link href="/assets/common/theme/scripts/plugins/forms/pixelmatrix-uniform/css/uniform.default.css" rel="stylesheet" />
	
	<!--[if IE]><!--><script src="/assets/common/theme/scripts/plugins/other/excanvas/excanvas.js"></script><!--<![endif]-->
	<!--[if lt IE 8]><!--><script src="/assets/common/theme/scripts/plugins/other/json2.js"></script><!--<![endif]-->
	
	<!-- Bootstrap Extended -->
	<link href="/assets/common/bootstrap/extend/jasny-bootstrap/css/jasny-bootstrap.min.css" rel="stylesheet">
	<link href="/assets/common/bootstrap/extend/jasny-bootstrap/css/jasny-bootstrap-responsive.min.css" rel="stylesheet">
	<link href="/assets/common/bootstrap/extend/bootstrap-wysihtml5/css/bootstrap-wysihtml5-0.0.2.css" rel="stylesheet">
	<link href="/assets/common/bootstrap/extend/bootstrap-select/bootstrap-select.css" rel="stylesheet" />
	<link href="/assets/common/bootstrap/extend/bootstrap-toggle-buttons/static/stylesheets/bootstrap-toggle-buttons.css" rel="stylesheet" />
	
	<!-- Select2 Plugin -->
	<link href="/assets/common/theme/scripts/plugins/forms/select2/select2.css" rel="stylesheet" />
	
	<!-- DateTimePicker Plugin -->
	<link href="/assets/common/theme/scripts/plugins/forms/bootstrap-datetimepicker/css/datetimepicker.css" rel="stylesheet" />
	
	<!-- JQueryUI -->
	<link href="/assets/common/theme/scripts/plugins/system/jquery-ui/css/smoothness/jquery-ui-1.9.2.custom.min.css" rel="stylesheet" />
	
	<!-- MiniColors ColorPicker Plugin -->
	<link href="/assets/common/theme/scripts/plugins/color/jquery-miniColors/jquery.miniColors.css" rel="stylesheet" />
	
	<!-- Notyfy Notifications Plugin -->
	<link href="/assets/common/theme/scripts/plugins/notifications/notyfy/jquery.notyfy.css" rel="stylesheet" />
	<link href="/assets/common/theme/scripts/plugins/notifications/notyfy/themes/default.css" rel="stylesheet" />
	
	<!-- Gritter Notifications Plugin -->
	<link href="/assets/common/theme/scripts/plugins/notifications/Gritter/css/jquery.gritter.css" rel="stylesheet" />
	
	<!-- Easy-pie Plugin -->
	<link href="/assets/common/theme/scripts/plugins/charts/easy-pie/jquery.easy-pie-chart.css" rel="stylesheet" />

	<!-- Google Code Prettify Plugin -->
	<link href="/assets/common/theme/scripts/plugins/other/google-code-prettify/prettify.css" rel="stylesheet" />

	<!-- Bootstrap Image Gallery -->
	<link href="/assets/common/bootstrap/extend/bootstrap-image-gallery/css/bootstrap-image-gallery.min.css" rel="stylesheet" />
	
	<!-- Main Theme Stylesheet :: CSS -->
	<!-- <link href="/assets/common/theme/css/style-light.css?1369753442" rel="stylesheet" /> -->
	<link href="/assets/common/theme/css/style-light.min.css?1369753442" rel="stylesheet" />
	
	
	<!-- LESS.js Library -->
	<script src="/assets/common/theme/scripts/plugins/system/less.min.js"></script>
	
	<script>
	var primaryColor = '#8ec657',
		dangerColor = '#b55151',
		successColor = '#609450',
		warningColor = '#ab7a4b',
		inverseColor = '#45484d';
	</script>
	
	<script>
	var themerPrimaryColor = primaryColor;
	</script>
	<script src="@routes.Assets.at("javascripts/myCustom.min.js")" type="text/javascript"></script>
	
	<!-- <script src="@routes.Assets.at("javascripts/prefixfree.min.js")" type="text/javascript"></script> -->
	<!-- <script src="@routes.Assets.at("javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery-ui.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/bootstrap.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/excanvas.min.js")" type="text/javascript"></script> -->
	
	<!-- <script src="@routes.Assets.at("javascripts/jquery.flot.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.flot.resize.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.flot.categories.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.flot.fillbetween.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.flot.stack.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.flot.crosshair.js")" type="text/javascript"></script> -->
	
	<!-- <script src="@routes.Assets.at("javascripts/jquery.sparkline.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.hashchange.min.js")" type="text/javascript"></script>
	<script src="@routes.Assets.at("javascripts/jquery.easytabs.min.js")" type="text/javascript"></script> -->
	
		
	<!-- <script src="@routes.Assets.at("javascripts/custom.js")" type="text/javascript"></script> -->
	
	
	<!-- <script src="@routes.Assets.at("app/bower_components/angular/angular.min.js")"></script>
	<script src="@routes.Assets.at("app/bower_components/angular-resource/angular-resource.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("app/bower_components/angular-route/angular-route.js")"></script>
    <script type="text/javascript" src="@routes.Assets.at("app/bower_components/angular-moment/angular-moment.js")"></script>
	<script type="text/javascript" src="@routes.Assets.at("app/bower_components/moment/moment.js")"></script>
	
	<script src='@routes.Assets.at("app/bower_components/ng-file-upload/angular-file-upload-shim.min.js")'></script>
	<script src='@routes.Assets.at("app/bower_components/ng-file-upload/angular-file-upload.min.js")'></script> -->   
        
	<script src="@routes.Assets.at("app/main.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("app/app.js")" type="text/javascript"></script>
    
    <!-- <script src='@routes.Assets.at("javascripts/jquery.fileDownload.js")'></script>
	
	<script src="/assets/common/theme/scripts/plugins/other/jquery-slimScroll/jquery.slimscroll.min.js"></script>
	<script src="/assets/common/bootstrap/extend/jasny-bootstrap/js/bootstrap-fileupload.js"></script>
	<script src="/assets/common/theme/scripts/demo/modals.js"></script>
	<script src="/assets/common/theme/scripts/plugins/color/jquery-miniColors/jquery.miniColors.js"></script>
	<script src="/assets/common/theme/scripts/plugins/system/jquery.cookie.js"></script>  -->
	
	
	
	<!-- <script src="/assets/common/theme/scripts/demo/themer.js"></script>    
	
	
	<script src="@routes.Assets.at("app/bower_components/angular-notify/angular-notify.js")"></script> -->
    <link href='@routes.Assets.at("app/bower_components/angular-notify/angular-notify.css")' rel="stylesheet" type="text/css" />
	
	<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
</head>

	
<body ng-app="chatRoom" ng-controller="ApplicationController" ng-init="getUserPic(@localUser.id);loadSectors()">

	<div class="container-fluid fixed menu-left" style="border-bottom: 1px solid #d8d8d8;">
	
		<!-- Sidebar menu & content wrapper -->
		<div id="wrapper" class="wrapperClass" style="height:91%;">
			
		<!-- Sidebar Menu -->
		<div id="menu" class="hidden-phone hidden-print">
			<!-- Brand -->
			<a class="appbrand1">Whitney Connect</a>
			
			<a class="glyphicons no-js home" href="#" style="float:right;margin-top:3%"><i></i></a>
			
			<!-- Themer -->
			<a style="float:right;margin-top:3%" data-target="#themer" data-toggle="collapse" class="glyphicons cogwheel single-icon"><i></i></a>
			<!-- // Themer END -->
			
				<!-- Scrollable menu wrapper with Maximum height -->
				<div class="slim-scroll">
				
				<!-- Sidebar Profile -->
				<span class="profile">
					<p>Welcome <a>@localUser.name</a></p>
					<a class="img" href="#/myAccount" style="border-bottom:1px solid #d8d8d8;"><img style="height:100%;width:100%;" data-ng-src="{{userImage}}" alt="Avatar" /></a>
					<span>
						<ul>
							<li style="border-bottom: 0px solid #fafafb;"><a href="#/myAccount" class="btn btn-success glyphicons lock" style="background: transparent;border: 0px solid #d8d8d8;font-normal:normal;width:50%;text-shadow:0 0px 0 rgba(0, 0, 0, 0);"><i></i>Account</a></li>
							<li style="border-bottom: 0px solid #fafafb;"><a href="#/changePass" class="btn btn-success glyphicons keys" style="background: transparent;border: 0px solid #d8d8d8;font-normal:normal;width:50%;text-shadow:0 0px 0 rgba(0, 0, 0, 0);"><i></i>Password</a></li>
							<li ng-show="isAdmin" style="border-bottom: 0px solid #fafafb;"><a href="#/manageUsers" class="btn btn-success glyphicons user_add" style="background: transparent;border: 0px solid #d8d8d8;font-normal:normal;width:50%;text-shadow:0 0px 0 rgba(0, 0, 0, 0);"><i></i>Users</a></li>
							<li style="border-bottom: 0px solid #fafafb;"><a href="@routes.Application.signOut" class="btn btn-success glyphicons eject" style="background: transparent;border: 0px solid #d8d8d8;font-normal:normal;width:50%;text-shadow:0 0px 0 rgba(0, 0, 0, 0);"><i></i>Logout</a></li>
						</ul>
					</span>
				</span>
				<!-- // Sidebar Profile END -->
				
<!-- 				<ul class="menu-0">
					<li class="active"><a style="float:left;width:179px;"><span style="padding-left:3%;font-size:15px;float:left;">My Portfolio</span></a><a data-toggle="modal" data-target="#myPortSettings" style="float:right;" class="glyphicons cogwheel single-icon"><i></i></a></li>
					<div style="height:370;" id="myPortfolio" class="slim-scroll"  >	
					</div>	
				</ul> -->
				
				<ul class="menu-0">
					<li class="active"><a style="float:left;width:179px;"><span style="padding-left:3%;font-size:15px;float:left;">Sector Weightings</span></a><a data-toggle="modal" data-target="#sectorSettings" style="float:right;" class="glyphicons cogwheel single-icon"><i></i></a></li>
					<div style="height:432px;" id="sectorWeight" class="slim-scroll">	
						<div ng-repeat="sector in allSectors" style="margin-left:1%;">
						<span style="width:100%;float:left;font-size:15px;font-weight:700;margin-bottom:10px;">{{sector.name}}</span>
						<div class="progress" style="width:80%;float:left;">
						   <div class="progress-bar progress-bar-success" id="{{sector.name}}port" role="progressbar" 
						      aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="height:100%;background-color:blue;width:0%;">
						   </div>
						</div>
						<div style="margin-bottom:10px;">{{sector.portWeight}}%</div>
						<div class="progress" style="width:80%;float:left;">
						   <div class="progress-bar progress-bar-info" id="{{sector.name}}sp" role="progressbar" 
						      aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="height:100%;background-color:green;width:0%;">
						   </div>
						</div>
						<div style="margin-bottom:10px;">{{sector.spWeight}}%</div>
						<hr>
						</div>
					</div>	
				</ul>
				
				<!-- <ul class="menu-0">
					<li class="active"><a><i></i><span style="padding-left:3%;font-size:15px;">The Team</span></a></li>
					<li ng-repeat="member in allMembers">
						<div class="row-fluid" style="padding:2%;">
							<span class="span2"><img id="userImage" style="height:35px;width:100%;" ng-src="/getUserPic/{{member.id}}"></span>
							<span class="span7" id="user">{{member.name}}</span>
							<span ng-show="member.status == 'online'" class="span2"><img id="status" src="/assets/images/online.png"></span>
							<span ng-show="member.status == 'offline'" class="span2"><img id="status" src="/assets/images/offline.png"></span>
						</div>
						
					</li>
				</ul> -->
		
				
				<div class="clearfix"></div>
				<div class="separator bottom"></div>
				
				</div>
				<!-- // Scrollable Menu wrapper with Maximum Height END -->
				
		</div>
		<!-- // Sidebar Menu END -->
		
		<!-- Content -->	
		<div id="content" ng-view="">
		</div> 
			
		</div>
		
	</div>	
	
<!-- Themer -->
<div id="themer" class="collapse">
	<div class="wrapper">
		<span class="close2">&times; close</span>
		<h4>Themer <span>color options</span></h4>
		<ul>
			<li>Theme: <select id="themer-theme" class="pull-right"></select><div class="clearfix"></div></li>
			<li>Primary Color: <input type="text" data-type="minicolors" data-default="#ffffff" data-slider="hue" data-textfield="false" data-position="left" id="themer-primary-cp" /><div class="clearfix"></div></li>
			<!-- <li>
				<span class="link" id="themer-custom-reset">reset theme</span>
			</li> -->
		</ul>
	</div>
</div>
<!-- // Themer END -->	

<!-- Modal -->
<!-- <div class="modal hide fade" id="myPortSettings">
	
	Modal heading
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	</div>
	// Modal heading END
	
	Modal body
	<div class="modal-body" style="overflow: hidden;">
		<div class="widget-body">
			Row
			<div class="row-fluid">
				Column
				<div class="span12">
					Group
					<div class="control-group span5" style="float:left;margin-bottom:0px;">
						<label class="control-label">Company Name:</label>
						<div class="controls">
							<input type="text" id="symSearch" class="span10" />
						</div>
					</div>
					// Group END
					
					Group
					<div class="control-group span5" style="float:left;margin-bottom:0px;">
						<label class="control-label">No. of Shares:</label>
						<div class="controls">
							<input type="text" id="noOfShares" ng-model="noOfShares" class="span10" />
						</div>
					</div>
					// Group END
					
					Group
					<div class="control-group span2" style="float:left;margin-bottom:0px;margin-top:23px;">
						<div class="controls">
							<button type="submit" ng-click="addToPortfolio()" class="btn btn-icon btn-primary glyphicons circle_ok"><i></i>Add</button>
						</div>
					</div>
					// Group END
					
				</div>
			</div>
	</div>
	// Modal body END
	
	Modal footer
	<div class="modal-footer">
		<table class="dynamicTable table table-striped table-bordered table-condensed">
		
			<thead>
				<tr>
					<th>Company Name</th>
					<th>No. of Shares</th>
					<th style="width:10%;"></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="company in allCompanies">
					<td>{{company.name}}</td>
					<td>{{company.noOfShares}}</td>
					<td><a class="glyphicons delete" ng-click="updatePortfolio(company)"><i></i></a></td>
				</tr>
			</tbody>
		
		</table>
	</div>
	// Modal footer END
	
</div> -->
<!-- // Modal END -->	

<!-- Modal -->
<div class="modal hide fade" id="sectorSettings">
	
	<!-- Modal heading -->
	<div class="modal-header">
		<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
	</div>
	<!-- // Modal heading END -->
	
	<!-- Modal body -->
	<div class="modal-body" style="overflow: hidden;">
		<div class="widget-body">
			<!-- Row -->
			<div class="row-fluid">
				<!-- Column -->
				<div class="span12">
					<!-- Group -->
					<div class="control-group span4" style="float:left;margin-bottom:0px;">
						<label class="control-label">Sector:</label>
						<div class="controls">
							<input type="text" id="sector" ng-model="sector" class="span10" />
						</div>
					</div>
					<!-- // Group END -->
					
					<!-- Group -->
					<div class="control-group span4" style="float:left;margin-bottom:0px;">
						<label class="control-label">Portfolio weightage %:</label>
						<div class="controls">
							<input type="text" id="portWeight" ng-model="portWeight" class="span10" />
						</div>
					</div>
					<!-- // Group END -->
					
					<!-- Group -->
					<div class="control-group span4" style="float:left;margin-bottom:0px;">
						<label class="control-label">S & P weightage %:</label>
						<div class="controls">
							<input type="text" id="spWeight" ng-model="spWeight" class="span10" />
						</div>
					</div>
					<!-- // Group END -->
					
					<!-- Group -->
					<div class="control-group" style="float:left;">
						<div class="controls">
							<button type="submit" ng-click="addSector()" class="btn btn-icon btn-primary glyphicons circle_ok"><i></i>Add</button>
						</div>
					</div>
					<!-- // Group END -->
					
				</div>
			</div>
	</div>
	<!-- // Modal body END -->
	
	<!-- Modal footer -->
	<div class="modal-footer">
		<table class="dynamicTable table table-striped table-bordered table-condensed">
		
			<thead>
				<tr>
					<th>Sector</th>
					<th style="width:33%;">Portfolio Weightage %</th>
					<th style="width:28%;">S & P Weightage %</th>
					<th style="width:10%;"></th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="sector in allSectors">
					<td>{{sector.name}}</td>
					<td>{{sector.portWeight}}</td>
					<td>{{sector.spWeight}}</td>
					<td><a class="glyphicons delete" ng-click="deleteSector(sector)"><i></i></a></td>
				</tr>
			</tbody>
		
		</table>
	</div>
	<!-- // Modal footer END -->
	
</div>
<!-- // Modal END -->	

	
			
</body>
<style>
.ui-menu{
position:absolute;
z-index:100000;
}
</style>
<script>
$(function(){
    $('#myPortfolio').slimScroll({
        height: '370px'
    });
    
    $('#sectorWeight').slimScroll({
        height: '432px'
    });
});

$(function() {
	
	$("#symSearch")
		.focus()
		.autocomplete({
			source: function(request,response) {
				if($("#symSearch").val().length > 0){
				$.ajax({
					beforeSend: function(){ 
						$("span.help-inline").show();
						$("span.label-info").empty().hide();
					},
					url: "http://dev.markitondemand.com/api/v2/Lookup/jsonp",
					dataType: "jsonp",
					data: {
						input: request.term
					},
					success: function(data) {
						response( $.map(data, function(item) {
							return {
								label: item.Name + " (" +item.Exchange+ ")",
								value: item.Symbol,
								item: item
							}
						}));
						$("span.help-inline").hide();
					}
				});
				}},
			minLength: 0,
			select: function( event, ui ) {
				angular.element('#myPortSettings').scope().company = ui.item.item;
				$("span.label-info").html("You selected " + ui.item.label).fadeIn("fast");
			},
			open: function() {
				//$(this).removeClass("ui-corner-all").addClass("ui-corner-top");
			},
			close: function() {
				//$(this).removeClass("ui-corner-top").addClass("ui-corner-all");
			}
		});
});


</script>


